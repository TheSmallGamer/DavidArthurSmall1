<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>David Small | Baritone</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>

    <nav>
        <div class="logo">David Small</div>
        
        <div class="hamburger">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>

        <ul class="nav-links">
            <li><a href="#about">About</a></li>
            <li><a href="#schedule">Schedule</a></li>
            <li><a href="#media">Media</a></li>
            <li><a href="#press">Acclaim</a></li>
            <li><a href="#" id="contact-btn" class="btn-nav">Contact</a></li>
        </ul>
    </nav>

    <header class="hero">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1>David Small</h1>
            <p class="subtitle">Baritone</p>
            <div class="hero-divider"></div>
            <p class="hero-quote">"A voice of rich complexity and commanding presence."</p>
            <p class="hero-quote-source">&mdash; The Boston Globe</p>
            
            <div class="hero-buttons">
                <a href="#schedule" class="btn btn-primary">2025 Season</a>
                <a href="#media" class="btn btn-outline">Watch & Listen</a>
            </div>
        </div>
    </header>

    <section id="about" class="container text-center">
        <h2 class="section-title">2024-2025 Season Highlights</h2>
        <div class="content-width">
            <p class="lead-text">
                This season, David returns to <strong>Boston Symphony Hall</strong> as Scarpia in <em>Tosca</em>, 
                bringing his signature intensity to Puccini's most formidable villain. 
                Later this year, he joins the <strong>Handel & Haydn Society</strong> for their annual <em>Messiah</em>, 
                followed by a series of masterclasses and recitals at The Boston Conservatory.
            </p>
        </div>
    </section>

    <section id="press" class="press-section">
        <div class="container">
            <div class="press-grid">
                <div class="press-item">
                    <p class="press-quote">"Small commands the stage with an operatic baritone whose mighty heft confers authority on everything it touches."</p>
                    <p class="press-source">&mdash; The New York Times</p>
                </div>
                <div class="press-item">
                    <p class="press-quote">"An object lesson in beautiful technique... consistently rich from top to bottom."</p>
                    <p class="press-source">&mdash; Opera News</p>
                </div>
            </div>
        </div>
    </section>

    <section id="schedule" class="container">
        <h2 class="section-title">Upcoming Engagements</h2>
        
        <div class="event-list">
            <div class="event-row">
                <div class="event-date">
                    <span class="month">OCT</span>
                    <span class="day">12</span>
                </div>
                <div class="event-details">
                    <h3>Tosca <span class="role-badge">Scarpia</span></h3>
                    <p class="venue">Boston Symphony Hall &bull; Boston, MA</p>
                </div>
                <div class="event-action">
                    <button class="btn btn-small event-trigger" 
                        data-title="Tosca (Scarpia)" 
                        data-date="October 12, 2025 @ 7:30 PM" 
                        data-venue="Boston Symphony Hall" 
                        data-desc="David returns to the role of Scarpia, bringing a 'terrifying elegance' to Puccini's masterpiece."
                        data-link="https://www.bso.org">
                        Tickets
                    </button>
                </div>
            </div>

            <div class="event-row">
                <div class="event-date">
                    <span class="month">DEC</span>
                    <span class="day">05</span>
                </div>
                <div class="event-details">
                    <h3>Handel's Messiah <span class="role-badge">Soloist</span></h3>
                    <p class="venue">Trinity Church &bull; Boston, MA</p>
                </div>
                <div class="event-action">
                    <button class="btn btn-small event-trigger" 
                        data-title="Handel's Messiah" 
                        data-date="December 05, 2025 @ 2:00 PM" 
                        data-venue="Trinity Church, Boston" 
                        data-desc="Join the Handel & Haydn Society for their annual performance of this holiday classic."
                        data-link="https://handelandhaydn.org">
                        Info
                    </button>
                </div>
            </div>
        </div>
    </section>

    <section id="gallery" class="container">
        <h2>Gallery</h2>
        <div class="gallery-grid" id="gallery-container">
            <p style="color:var(--text-muted);">Loading photos...</p>
        </div>
    </section>

    <script>
        fetch('assets/gallery.json')
            .then(response => response.json())
            .then(data => {
                const container = document.getElementById('gallery-container');
                container.innerHTML = ''; // Clear loading message

                // Loop through every photo in the JSON file
                data.photos.forEach(photo => {
                    // Create the div
                    const item = document.createElement('div');
                    item.className = 'gallery-item';
                    
                    // Set the background image (CMS saves path as assets/uploads/img.jpg)
                    // We might need to adjust path depending on where the JSON is relative to root
                    item.style.backgroundImage = `url('${photo.image}')`;
                    
                    // Optional: Add caption on hover
                    if(photo.caption) {
                        item.setAttribute('title', photo.caption);
                    }

                    container.appendChild(item);
                });
            })
            .catch(err => {
                console.error('Error loading gallery:', err);
                document.getElementById('gallery-container').innerHTML = '<p>Gallery is currently empty.</p>';
            });
    </script>

    <footer>
        <div class="footer-content">
            <div class="footer-logo">DAS</div>
            <p class="faculty-tag">Faculty, The Boston Conservatory at Berklee</p>
            
            <div class="social-links">
                <a href="#">YouTube</a> &bull; 
                <a href="#">Instagram</a> &bull; 
                <a href="#">Facebook</a>
            </div>
            
            <p class="copyright">&copy; 2025 David Small | Booking: davidarthursmall@gmail.com</p>
        </div>
    </footer>

    <div id="modal-overlay" class="modal-overlay">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Get in Touch</h2>
            <p class="modal-subtitle">For booking inquiries or just to say hello.</p>
            
            <form class="modal-form">
                <div class="form-group">
                    <label>Name</label>
                    <input type="text" placeholder="Your Name">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" placeholder="name@example.com">
                </div>
                <div class="form-group">
                    <label>Message</label>
                    <textarea rows="4" placeholder="How can we help?"></textarea>
                </div>
                <button type="submit" class="btn btn-full">Send Message</button>
            </form>
        </div>
    </div>

    <div id="event-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-modal close-event">&times;</span>
            <h2 id="modal-title">Event Title</h2>
            <p id="modal-date" style="color: var(--accent); margin-bottom: 5px;">Date & Time</p>
            <p id="modal-venue" style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 20px;">Venue</p>
            
            <p id="modal-desc" style="margin-bottom: 30px; line-height: 1.6;">Description goes here...</p>
            
            <a id="modal-link" href="#" target="_blank" class="btn btn-full">Visit Venue Website</a>
        </div>
    </div>

    <script>
        // 1. Navbar Frost Effect
        const nav = document.querySelector('nav');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        });

        // 2. Mobile Hamburger Logic
        const hamburger = document.querySelector(".hamburger");
        const navMenu = document.querySelector(".nav-links");

        hamburger.addEventListener("click", () => {
            hamburger.classList.toggle("active");
            navMenu.classList.toggle("active");
        });

        // Close menu when a link is clicked
        document.querySelectorAll(".nav-links a").forEach(n => n.addEventListener("click", () => {
            hamburger.classList.remove("active");
            navMenu.classList.remove("active");
        }));
        
        // 3. Smooth Scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                // If it's the contact button, ignore smooth scroll
                if(this.id === 'contact-btn') return;
                
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // 4. Modal Logic
        const modal = document.getElementById('modal-overlay');
        const openBtn = document.getElementById('contact-btn');
        const closeBtn = document.querySelector('.close-modal');

        openBtn.addEventListener('click', (e) => {
            e.preventDefault();
            modal.classList.add('active');
        });

        closeBtn.addEventListener('click', () => {
            modal.classList.remove('active');
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('active');
            }
        });

        // --- DYNAMIC EVENT MODAL LOGIC ---
        const eventModal = document.getElementById('event-modal');
        const eventCloseBtn = document.querySelector('.close-event');
        const eventTriggers = document.querySelectorAll('.event-trigger');

        // Elements inside the modal to update
        const mTitle = document.getElementById('modal-title');
        const mDate = document.getElementById('modal-date');
        const mVenue = document.getElementById('modal-venue');
        const mDesc = document.getElementById('modal-desc');
        const mLink = document.getElementById('modal-link');

        eventTriggers.forEach(btn => {
            btn.addEventListener('click', () => {
                // 1. Get data from the clicked button
                const title = btn.getAttribute('data-title');
                const date = btn.getAttribute('data-date');
                const venue = btn.getAttribute('data-venue');
                const desc = btn.getAttribute('data-desc');
                const link = btn.getAttribute('data-link');

                // 2. Inject data into the modal
                mTitle.textContent = title;
                mDate.textContent = date;
                mVenue.textContent = venue;
                mDesc.textContent = desc;
                mLink.href = link;

                // 3. Show the modal
                eventModal.classList.add('active');
            });
        });

        // Close Event Modal (X button)
        eventCloseBtn.addEventListener('click', () => {
            eventModal.classList.remove('active');
        });

        // Close Event Modal (Click Outside)
        eventModal.addEventListener('click', (e) => {
            if (e.target === eventModal) {
                eventModal.classList.remove('active');
            }
        });
    </script>
</body>
</html>
